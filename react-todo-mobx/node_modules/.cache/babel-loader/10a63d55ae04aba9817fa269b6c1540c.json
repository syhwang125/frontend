{"ast":null,"code":"import _defineProperty from\"/Users/youngminlee/gitrepository/frontend/react-todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/youngminlee/gitrepository/frontend/react-todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _initializerDefineProperty from\"/Users/youngminlee/gitrepository/frontend/react-todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";import _classCallCheck from\"/Users/youngminlee/gitrepository/frontend/react-todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/youngminlee/gitrepository/frontend/react-todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _applyDecoratedDescriptor from\"/Users/youngminlee/gitrepository/frontend/react-todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";import _initializerWarningHelper from\"/Users/youngminlee/gitrepository/frontend/react-todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";var _class,_descriptor,_descriptor2,_temp;import{observable,action,computed,makeObservable,toJS}from'mobx';var TodoStore=(_class=(_temp=/*#__PURE__*/function(){function TodoStore(){_classCallCheck(this,TodoStore);_initializerDefineProperty(this,\"_todo\",_descriptor,this);_initializerDefineProperty(this,\"_todos\",_descriptor2,this);makeObservable(this);//mobx5 버전이후 mobx6에서는 반드시 정의해야, 데이터 변경시 반영됨. \n}_createClass(TodoStore,[{key:\"setTodoProps\",value:function setTodoProps(name,value){this._todo=_objectSpread(_objectSpread({},this._todo),{},_defineProperty({},name,value));}},{key:\"setSearchText\",value:function setSearchText(searchText){this._searchText=searchText;}},{key:\"addTodo\",value:function addTodo(todo){this._todos.push(todo);}},{key:\"selectedTodo\",value:function selectedTodo(todo){this._todo=todo;}},{key:\"updateTodo\",value:function updateTodo(){var _this=this;var foundTodo=this._todos.find(function(todo){return todo.id===_this._todo.id;});foundTodo.title=this._todo.title;foundTodo.date=this._todo.date;this._todo={};}},{key:\"removeTodo\",value:function removeTodo(){var _this2=this;var index=this._todos.findIndex(function(todo){return todo.id===_this2._todo.id;});if(index>-1){//found\nthis._todos.splice(index,1);}this._todo={};}},{key:\"todo\",get:function get(){return this._todo;}},{key:\"todos\",get:function get(){return this._todos?this._todos.slice():[];// return toJS(this._todos);\n}},{key:\"searchText\",get:function get(){return this._searchText;}}]);return TodoStore;}(),_temp),(_descriptor=_applyDecoratedDescriptor(_class.prototype,\"_todo\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return{// title : 'test', \n};}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,\"_todos\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return[];}}),_applyDecoratedDescriptor(_class.prototype,\"setTodoProps\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"setTodoProps\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"setSearchText\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"setSearchText\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"addTodo\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"addTodo\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"selectedTodo\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"selectedTodo\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"updateTodo\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"updateTodo\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"removeTodo\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"removeTodo\"),_class.prototype)),_class);export default new TodoStore();","map":{"version":3,"sources":["/Users/youngminlee/gitrepository/frontend/react-todo-mobx/src/store/TodoStore.js"],"names":["observable","action","computed","makeObservable","toJS","TodoStore","name","value","_todo","searchText","_searchText","todo","_todos","push","foundTodo","find","id","title","date","index","findIndex","splice","slice"],"mappings":"6zCAAA,OAASA,UAAT,CAAqBC,MAArB,CAA6BC,QAA7B,CAAuCC,cAAvC,CAAwDC,IAAxD,KAAmE,MAAnE,C,GAEMC,CAAAA,S,wCAEF,oBAAc,uJACVF,cAAc,CAAC,IAAD,CAAd,CAAwB;AAC3B,C,wEAwBYG,I,CAAMC,K,CAAO,CACtB,KAAKC,KAAL,gCACO,KAAKA,KADZ,wBAEKF,IAFL,CAEaC,KAFb,GAIH,C,oDAGaE,U,CAAY,CACtB,KAAKC,WAAL,CAAmBD,UAAnB,CACH,C,wCAGOE,I,CAAM,CACV,KAAKC,MAAL,CAAYC,IAAZ,CAAiBF,IAAjB,EACH,C,kDAGYA,I,CAAM,CACf,KAAKH,KAAL,CAAaG,IAAb,CACH,C,+CAGY,gBACT,GAAIG,CAAAA,SAAS,CAAG,KAAKF,MAAL,CAAYG,IAAZ,CAAkB,SAACJ,IAAD,QAAUA,CAAAA,IAAI,CAACK,EAAL,GAAY,KAAI,CAACR,KAAL,CAAWQ,EAAjC,EAAlB,CAAhB,CACAF,SAAS,CAACG,KAAV,CAAkB,KAAKT,KAAL,CAAWS,KAA7B,CACAH,SAAS,CAACI,IAAV,CAAiB,KAAKV,KAAL,CAAWU,IAA5B,CAEA,KAAKV,KAAL,CAAa,EAAb,CACH,C,+CAIY,iBACT,GAAIW,CAAAA,KAAK,CAAG,KAAKP,MAAL,CAAYQ,SAAZ,CAAuB,SAAAT,IAAI,QAAIA,CAAAA,IAAI,CAACK,EAAL,GAAY,MAAI,CAACR,KAAL,CAAWQ,EAA3B,EAA3B,CAAZ,CACA,GAAGG,KAAK,CAAG,CAAC,CAAZ,CAAe,CAAI;AACf,KAAKP,MAAL,CAAYS,MAAZ,CAAmBF,KAAnB,CAA0B,CAA1B,EACH,CAED,KAAKX,KAAL,CAAa,EAAb,CACH,C,gCAtDU,CACP,MAAO,MAAKA,KAAZ,CACH,C,iCAEW,CACR,MAAO,MAAKI,MAAL,CAAc,KAAKA,MAAL,CAAYU,KAAZ,EAAd,CAAoC,EAA3C,CACA;AACH,C,sCAEgB,CACb,MAAO,MAAKZ,WAAZ,CACH,C,iGAnBAV,U,4FACO,CACL;AADK,C,uEAIPA,U,4FACQ,E,gEAeRC,M,iJAQAA,M,4IAKAA,M,2IAKAA,M,8IAKAA,M,4IAUAA,M,4FAYL,cAAe,IAAII,CAAAA,SAAJ,EAAf","sourcesContent":["import { observable, action, computed, makeObservable , toJS} from 'mobx';\n\nclass TodoStore {\n\n    constructor() {\n        makeObservable(this);   //mobx5 버전이후 mobx6에서는 반드시 정의해야, 데이터 변경시 반영됨. \n    }\n\n    @observable \n    _todo = {\n       // title : 'test', \n    }   // id, title, date \n\n    @observable\n    _todos = [];\n\n    get todo() {\n        return this._todo;\n    }\n\n    get todos() {\n        return this._todos ? this._todos.slice() : [];\n        // return toJS(this._todos);\n    }\n\n    get searchText() {\n        return this._searchText;\n    }\n\n    @action\n    setTodoProps(name, value) {\n        this._todo = {\n            ...this._todo,    // ... 전개 연산자로 전체 객체르르 그대로 넘겨줌 \n            [name] : value\n        }\n    }\n\n    @action\n    setSearchText(searchText) {\n        this._searchText = searchText;\n    }\n\n    @action \n    addTodo(todo) {\n        this._todos.push(todo);\n    }\n\n    @action\n    selectedTodo(todo) {\n        this._todo = todo;\n    }\n\n    @action\n    updateTodo() {\n        let foundTodo = this._todos.find( (todo) => todo.id === this._todo.id ) ;\n        foundTodo.title = this._todo.title;\n        foundTodo.date = this._todo.date;\n\n        this._todo = {};\n    }\n\n\n    @action\n    removeTodo() {\n        let index = this._todos.findIndex( todo => todo.id === this._todo.id );\n        if(index > -1) {   //found\n            this._todos.splice(index, 1);\n        }\n\n        this._todo = {};\n    }\n}\n\n\nexport default new TodoStore();"]},"metadata":{},"sourceType":"module"}